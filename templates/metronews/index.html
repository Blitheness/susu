<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Metro news template</title>
        
        
        
        <style type="text/css">
            body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,form,fieldset,input,textarea,p,blockquote,th,td { 
                    margin:0;
                    padding:0;
            }
            table {
                    border-collapse:collapse;
                    border-spacing:0;
            }
            fieldset,img { 
                    border:0;
            }
            address,caption,cite,code,dfn,em,strong,th,var {
                    font-style:normal;
                    font-weight:normal;
            }
            ol,ul {
                    list-style:none;
            }
            caption,th {
                    text-align:left;
            }
            h1,h2,h3,h4,h5,h6 {
                    font-size:100%;
                    font-weight:normal;
            }
            q:before,q:after {
                    content:'';
            }
            abbr,acronym { border:0;
            }
            
            /**
            * Start Vanilla CSS 1.0.2 
            */ 
           body {
                   font: 9pt/1.5em sans-serif;
           }
           pre, code, tt {
                   font: 1em/1.5em 'Andale Mono', 'Lucida Console', monospace;
           }
           h1, h2, h3, h4, h5, h6, b, strong {
                   font-weight: bold;
           }
           em, i, dfn {
                   font-style: italic;
           }
           dfn {
                   font-weight:bold;
           }
           p, code, pre, kbd {
                   margin:0 0 1.5em 0;
           }
           blockquote {
                   margin:0 1.5em 1.5em 1.5em;
           }
           cite {
                   font-style: italic;
           }
           li ul, li ol {
                   margin:0 1.5em;
           }
           ul, ol {
                   margin:0 1.5em 1.5em 1.5em;
           }
           ul {
                   list-style-type:disc;
           }
           ol {
                   list-style-type:decimal;
           }
           ol ol {
                   list-style: upper-alpha;
           }
           ol ol ol {
                   list-style: lower-roman;
           }
           ol ol ol ol {
                   list-style: lower-alpha;
           }
           dl {
                   margin:0 0 1.5em 0;
           }
           dl dt {
                   font-weight:bold;
           }
           dd {
                   margin-left:1.5em;
           }
           table {
                   margin-bottom:1.4em;
                   width:100%;
           }
           th {
                   font-weight:bold;
           }
           th, td, caption {
                   padding:4px 10px 4px 5px;
           }
           tfoot {
                   font-style:italic;
           }
           sup, sub {
                   line-height:0;
           }
           abbr, acronym {
                   border-bottom: 1px dotted;
           }
           address {
                   margin:0 0 1.5em;
                   font-style:italic;
           }
           del {
                   text-decoration: line-through;
           }
           pre {
                   margin:1.5em 0;
                   white-space:pre;
           }
           img.centered, .aligncenter, div.aligncenter {
                   display: block;
                   margin-left: auto;
                   margin-right: auto;
           }
           img.alignright {
                   display: inline;
           }
           img.alignleft {
                   display: inline;
           }
           .alignright {
                   float: right;
                   margin-left: 10px;
           }
           .alignleft {
                   float: left;
                   margin-right: 10px;
           }
           img {
                   max-width: 100%;
           }
           * html .clearfix {
               height: 1%;
           }
           * + html .clearfix {
                   display: inline-block;
           }
           .clearfix:after {
               content: ".";
               display: block;
               height: 0;
               clear: both;
               visibility: hidden;
           }
           * html .group {
               height: 1%;
           }
           * + html .group {
                   display: inline-block;
           }
           .group:after {
               content: ".";
               display: block;
               height: 0;
               clear: both;
               visibility: hidden;
           }
           /**
           * End Vanilla CSS
           */

           body{
               margin:50px;
           } 
           
           /* 
           
           NEWS
           
           */
           a{
               cursor: pointer;
               cursor: hand;
           }
           
           .news{
               
               display:inline-block;
               margin-left:-5px; /* fix off margin */
               font-family:sans-serif;
               padding:10px 5px;
               cursor: pointer;
               cursor: hand;
           }
           .news p{
               margin-top:10px;
               margin-left:10px;
               font-style:italic;
           }
            #metro .news {
                display:inline-block;
                zoom:1;
                *display:inline;
                position:relative;
                margin:10px;
            }
            #metro .news h1{
                text-transform: uppercase;
                font-size: 18px;
                line-height:18px;
            }
            
            #metro .news a h1{
                display: inline-block;
                text-decoration:none;
                padding:4px 10px;
                border-radius:0px;
                transform: skew(-10deg);
                -o-transform: skew(-10deg);
                -moz-transform: skew(-10deg);
                -webkit-transform: skew(-10deg);
                color:#757575;
                margin-top:3px !important;
               
            }
            #metro .news a span {
               /* display: inline-block;
                transform: skew(10deg);
                -o-transform: skew(10deg);
                -moz-transform: skew(10deg);
                -webkit-transform: skew(10deg);
               */
            }

            #metro .news a:hover h1{
                background:#f3f1eb;
                
            }

            #metro .news a.current h1{
                color:#fff;
                background:#c00;
            }

            #metro .news a.current:hover h1{
                background:#D00;
            }

            .news.hover{
                
                background:#bf1616;
            }
            #metro .news.hover a h1{
                color:#fff;
            }
            #metro .news.hover a:hover h1{
                background:none;
            }
            #metro .news p{
                color:#fff;
            }
            .news.default {
                background: url('image.png');
                -webkit-filter: hue-rotate(173deg);
            }
              #wrappingText {
                display: inline;
              }
              #highlighter {
                background-color:yellow;
                position:absolute;
                width:100%;
                z-index: -1;
                display:none;
              }
  
        </style>
        <link rel="stylesheet/less" type="text/css" href="metronews.less" />
        <script src="less-1.3.3.min.js" type="text/javascript"></script>
    </head>
    <body>
        <div id="metro">
            <div class="news default medium">
                <a class="current"><h1>Test Title Long First Line</h1><h1>Short Second Line</h1></a>
                <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut...</p>
            </div>
            <div class="news medium hover">
                <a><h1>Test Title Long First Line</h1><h1>Short Second Line</h1></a>
                <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut...</p>
            </div>
            <div class="news medium">
                <a><h1>Test Title Long First Line</h1><h1>Short Second Line</h1></a>
                <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut...</p>
            </div>
            <div class="news medium">
                <div id="highlighter"></div>
                <a><div id="breakthis">Break This long long line Test Title Long First Line Short Second Line</div></a>
                <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut...</p>
            </div>
            <div class="news medium">
                <a><h1>Test Title Long First Line</h1></a>
                <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut...</p>
            </div>
        </div>
        <div id="debug"></div>
        
        <script type="text/javascript">
            var lines = document.getElementById("breakthis").getClientRects();
            var highlighter = document.getElementById("highlighter");
            window.onresize = function () {
                lines = document.getElementById("breakthis").getClientRects();
            }
            function debugTxt(txt)
            {
               var dbgDiv = document.getElementById("debug");
               if ("innerText" in dbgDiv)
                 dbgDiv.innerText = txt;
               else
                 dbgDiv.textContent = txt;
            }
            debugTxt("lines: "+lines.length);
            document.onmousemove = function (e)
            {
                var event = e || window.event;
                var x = event.clientX, y = event.clientY;
                debugTxt("lines: "+lines.length + ", x: "+x+", y:"+y);
                for (var i=0, max = lines.length; i < max; i++)
                {
                    if (y > lines[i].top && y < lines[i].bottom)
                    {
                        highlighter.style.height = lines[i].bottom - lines[i].top;
                        highlighter.style.top = lines[i].top;
                        break;
                    } 
                }
            }

            
        </script> 
        
    </body>
</html>
